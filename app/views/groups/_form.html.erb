<!-- app/views/groups/_form.html.erb -->
<%= form_with(model: group, local: true, id: "group-form", style: "margin-top: 1.5rem;") do |form| %>
  <% if group.errors.any? %>
    <div id="error_explanation" style="background-color: #FEE2E2; border: 1px solid #F87171; color: #B91C1C; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem;">
      <div style="display: flex; align-items: flex-start;">
        <div style="flex-shrink: 0;">
          <svg style="width: 1.25rem; height: 1.25rem;" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" />
          </svg>
        </div>
        <div style="margin-left: 0.75rem;">
          <h2 style="font-size: 0.875rem; font-weight: 600; color: #991B1B;">
            <%= pluralize(group.errors.count, "error") %> prohibited this group from being saved:
          </h2>
          <ul style="margin-top: 0.5rem; list-style-type: disc; list-style-position: inside;">
            <% group.errors.full_messages.each do |message| %>
              <li style="font-size: 0.875rem;"><%= message %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </div>
  <% end %>

  <div class="form-field" style="margin-bottom: 1.5rem; opacity: 0; transform: translateY(10px); transition: all 0.3s ease-out;">
    <%= form.label :name, style: "display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;" %>
    <%= form.text_field :name, style: "width: 100%; padding: 0.75rem; border: 2px solid #D1D5DB; border-radius: 0.5rem; font-size: 1rem; transition: all 0.3s ease;" %>
  </div>

  <div class="form-field" style="margin-bottom: 1.5rem; opacity: 0; transform: translateY(10px); transition: all 0.3s ease-out;">
    <%= form.label :description, style: "display: block; font-size: 0.875rem; font-weight: 600; color: #374151; margin-bottom: 0.5rem;" %>
    <%= form.text_area :description, rows: 4, style: "width: 100%; padding: 0.75rem; border: 2px solid #D1D5DB; border-radius: 0.5rem; font-size: 1rem; transition: all 0.3s ease;" %>
  </div>

  <div style="text-align: right; opacity: 0; transform: translateY(10px); transition: all 0.3s ease-out;">
    <%= form.submit "Create Group", style: "background-color: #4338ca; color: white; font-weight: 600; padding: 0.75rem 1.5rem; border-radius: 0.5rem; border: none; cursor: pointer; transition: all 0.3s ease; font-size: 1rem;" %>
  </div>
<% end %>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('group-form');
        const formFields = form.querySelectorAll('.form-field, div[style*="text-align: right"]');

        // Animate form fields
        formFields.forEach((field, index) => {
            setTimeout(() => {
                field.style.opacity = '1';
                field.style.transform = 'translateY(0)';
            }, index * 200);
        });

        // Input focus effects
        const inputs = form.querySelectorAll('input, textarea');
        inputs.forEach(input => {
            input.addEventListener('focus', () => {
                input.style.borderColor = '#4338ca';
                input.style.boxShadow = '0 0 0 3px rgba(67, 56, 202, 0.1)';
            });
            input.addEventListener('blur', () => {
                input.style.borderColor = '#D1D5DB';
                input.style.boxShadow = 'none';
            });
        });

        // Submit button hover effect
        const submitButton = form.querySelector('input[type="submit"]');
        submitButton.addEventListener('mouseenter', () => {
            submitButton.style.backgroundColor = '#3730a3';
            submitButton.style.transform = 'translateY(-2px)';
            submitButton.style.boxShadow = '0 4px 6px rgba(67, 56, 202, 0.25)';
        });
        submitButton.addEventListener('mouseleave', () => {
            submitButton.style.backgroundColor = '#4338ca';
            submitButton.style.transform = 'translateY(0)';
            submitButton.style.boxShadow = 'none';
        });
    });
</script>