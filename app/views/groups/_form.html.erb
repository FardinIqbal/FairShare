<!-- app/views/groups/_form.html.erb -->
<%= form_with(model: group, local: true, class: "space-y-6", id: "group-form") do |form| %>
  <% if group.errors.any? %>
    <div style="background-color: #FEE2E2; border: 1px solid #F87171; color: #B91C1C; padding: 1rem; border-radius: 0.5rem; margin-bottom: 1rem; opacity: 0; transform: translateY(-10px);" id="error-messages">
      <strong style="font-weight: 600; display: block; margin-bottom: 0.5rem;">
        <%= pluralize(group.errors.count, "error") %> prohibited this group from being saved:
      </strong>
      <ul style="list-style-type: disc; padding-left: 1.5rem;">
        <% group.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div style="opacity: 0; transform: translateY(10px);" class="form-field">
    <%= form.label :name, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #4B5563; margin-bottom: 0.5rem;" %>
    <%= form.text_field :name, style: "width: 100%; padding: 0.5rem; border: 1px solid #D1D5DB; border-radius: 0.375rem; transition: all 0.3s ease;", onmouseover: "this.style.borderColor='#9CA3AF';", onmouseout: "this.style.borderColor='#D1D5DB';", onfocus: "this.style.borderColor='#4F46E5'; this.style.boxShadow='0 0 0 3px rgba(79, 70, 229, 0.1)';", onblur: "this.style.borderColor='#D1D5DB'; this.style.boxShadow='none';" %>
  </div>

  <div style="opacity: 0; transform: translateY(10px);" class="form-field">
    <%= form.label :description, style: "display: block; font-size: 0.875rem; font-weight: 500; color: #4B5563; margin-bottom: 0.5rem;" %>
    <%= form.text_area :description, rows: 4, style: "width: 100%; padding: 0.5rem; border: 1px solid #D1D5DB; border-radius: 0.375rem; transition: all 0.3s ease;", onmouseover: "this.style.borderColor='#9CA3AF';", onmouseout: "this.style.borderColor='#D1D5DB';", onfocus: "this.style.borderColor='#4F46E5'; this.style.boxShadow='0 0 0 3px rgba(79, 70, 229, 0.1)';", onblur: "this.style.borderColor='#D1D5DB'; this.style.boxShadow='none';" %>
  </div>

  <div style="opacity: 0; transform: translateY(10px);" class="form-field">
    <%= form.submit style: "background-color: #4F46E5; color: white; font-weight: 600; padding: 0.75rem 1.5rem; border-radius: 0.375rem; border: none; cursor: pointer; transition: all 0.3s ease;", onmouseover: "this.style.backgroundColor='#4338CA'; this.style.transform='translateY(-2px)'; this.style.boxShadow='0 4px 6px rgba(79, 70, 229, 0.25)';", onmouseout: "this.style.backgroundColor='#4F46E5'; this.style.transform='translateY(0)'; this.style.boxShadow='none';" %>
  </div>
<% end %>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const form = document.getElementById('group-form');
        const errorMessages = document.getElementById('error-messages');
        const formFields = document.querySelectorAll('.form-field');

        if (errorMessages) {
            setTimeout(() => {
                errorMessages.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                errorMessages.style.opacity = '1';
                errorMessages.style.transform = 'translateY(0)';
            }, 100);
        }

        formFields.forEach((field, index) => {
            setTimeout(() => {
                field.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
                field.style.opacity = '1';
                field.style.transform = 'translateY(0)';
            }, 200 + (index * 100));
        });
    });
</script>