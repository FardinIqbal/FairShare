<!-- app/views/dashboard/index.html.erb -->
<h1>Dashboard</h1>

<h2>Your Groups</h2>
<ul>
  <% @groups.each do |group| %>
    <li><%= link_to group.name, group_path(group) %></li>
  <% end %>
</ul>

<h2>Recent Expenses</h2>
<% @recent_expenses.each do |expense| %>
  <div>
    <p><%= expense.description %> - <%= number_to_currency(expense.amount) %></p>
    <p>Group: <%= expense.group.name %></p>
    <p>Paid by: <%= expense.user.full_name %> on <%= expense.date %></p>
  </div>
<% end %>

<h2>Financial Summary</h2>
<p>Total Owed: <%= number_to_currency(@total_owed) %></p>

<h2>Expenses by Month (Last 6 Months)</h2>
<ul>
  <% @expenses_by_month.each do |month, amount| %>
    <li><%= month.strftime("%B %Y") %>: <%= number_to_currency(amount) %></li>
  <% end %>
</ul>

<h2>Top Expense Categories</h2>
<ul>
  <% @top_expense_categories.each do |category, amount| %>
    <li><%= category %>: <%= number_to_currency(amount) %></li>
  <% end %>
</ul>

<h2>Upcoming Expenses</h2>
<% @upcoming_expenses.each do |expense| %>
  <div>
    <p><%= expense.description %> - <%= number_to_currency(expense.amount) %></p>
    <p>Due: <%= expense.date %></p>
    <p>Group: <%= expense.group.name %></p>
  </div>
<% end %>