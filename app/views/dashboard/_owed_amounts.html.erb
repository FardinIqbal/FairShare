<!-- app/views/dashboard/_owed_amounts.html.erb -->
<div class="card owed-amounts">
  <h2 class="section-title">Owed Amounts</h2>

  <div class="owed-section">
    <h3 class="subsection-title negative">You Owe</h3>
    <% @owed_amounts[:owed_to_others].each do |debt| %>
      <div class="debt-card negative">
        <div class="debt-info">
          <p class="debt-name"><%= debt[:group].name %></p>
        </div>
        <div class="debt-amount">
          <p class="amount negative"><%= number_to_currency(debt[:amount]) %></p>
          <%= button_to "Pay", pay_debt_path(group_id: debt[:group].id, amount: debt[:amount]), method: :post, class: "btn btn-negative" %>
        </div>
      </div>
    <% end %>
  </div>

  <div class="owed-section">
    <h3 class="subsection-title positive">You are Owed</h3>
    <% @owed_amounts[:owed_by_others].each do |debt| %>
      <div class="debt-card positive">
        <div class="debt-info">
          <p class="debt-name"><%= debt[:group].name %></p>
        </div>
        <div class="debt-amount">
          <p class="amount positive"><%= number_to_currency(debt[:amount]) %></p>
          <%= button_to "Remind", remind_payment_path(group_id: debt[:group].id, amount: debt[:amount]), method: :post, class: "btn btn-positive" %>
        </div>
      </div>
    <% end %>
  </div>
</div>

<style>
    .owed-section {
        margin-bottom: 20px;
    }

    .subsection-title {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 10px;
    }

    .subsection-title.negative {
        color: #EF4444;
    }

    .subsection-title.positive {
        color: #10B981;
    }

    .debt-card {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px;
        border-radius: 6px;
        margin-bottom: 10px;
    }

    .debt-card.negative {
        background-color: #FEE2E2;
    }

    .debt-card.positive {
        background-color: #D1FAE5;
    }

    .debt-name {
        font-weight: 500;
        color: #1F2937;
    }

    .amount {
        font-weight: 600;
        margin-bottom: 5px;
    }

    .amount.negative {
        color: #EF4444;
    }

    .amount.positive {
        color: #10B981;
    }

    .btn {
        padding: 6px 12px;
        border: none;
        border-radius: 4px;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .btn-negative {
        background-color: #EF4444;
        color: white;
    }

    .btn-positive {
        background-color: #10B981;
        color: white;
    }

    .btn:hover {
        opacity: 0.9;
    }
</style>